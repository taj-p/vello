test = "do_not_panic_on_multiple_flushes"
units = "bytes"

[[instances]]
name = "do_not_panic_on_multiple_flushes_cpu_f32_neon"

[instances.cold]
allocations = 4
deallocations = 3
reallocations = 2
bytes_allocated = 22888
bytes_deallocated = 22280
bytes_reallocated = 384

[instances.warm]
allocations = 3
deallocations = 3
reallocations = 0
bytes_allocated = 22280
bytes_deallocated = 22280
bytes_reallocated = 0

[[instances]]
name = "do_not_panic_on_multiple_flushes_cpu_f32_scalar"

[instances.cold]
allocations = 4
deallocations = 3
reallocations = 2
bytes_allocated = 22888
bytes_deallocated = 22280
bytes_reallocated = 384

[instances.warm]
allocations = 3
deallocations = 3
reallocations = 0
bytes_allocated = 22280
bytes_deallocated = 22280
bytes_reallocated = 0

[[instances]]
name = "do_not_panic_on_multiple_flushes_cpu_u8_neon"

[instances.cold]
allocations = 4
deallocations = 3
reallocations = 2
bytes_allocated = 10600
bytes_deallocated = 9992
bytes_reallocated = 384

[instances.warm]
allocations = 3
deallocations = 3
reallocations = 0
bytes_allocated = 9992
bytes_deallocated = 9992
bytes_reallocated = 0

[[instances]]
name = "do_not_panic_on_multiple_flushes_cpu_u8_scalar"

[instances.cold]
allocations = 4
deallocations = 3
reallocations = 2
bytes_allocated = 10600
bytes_deallocated = 9992
bytes_reallocated = 384

[instances.warm]
allocations = 3
deallocations = 3
reallocations = 0
bytes_allocated = 9992
bytes_deallocated = 9992
bytes_reallocated = 0

[[instances]]
name = "do_not_panic_on_multiple_flushes_hybrid_metal"

[instances.cold]
allocations = 166
deallocations = 145
reallocations = 18
bytes_allocated = 56171
bytes_deallocated = 52345
bytes_reallocated = 35344

[instances.warm]
allocations = 133
deallocations = 131
reallocations = 4
bytes_allocated = 16241
bytes_deallocated = 16149
bytes_reallocated = 832
